﻿<html>
    <head>

        <meta charset="utf-8">
        <title>Trabalho de WEB</title>
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <link href="../../styles/css/materialize.css" type="text/css" rel="stylesheet" media="screen,projection"/>
        <link href="../../styles/css/style.css" type="text/css" rel="stylesheet" media="screen,projection"/>

        <style>
            video {

                border: 5px solid #040840; 
                display: block; 
                margin: 0 0 20px 0;

            }


            #canvas { 


                border: 5px solid #780c0c;
                display: block;

            }




        </style>
        <script type="text/javascript" src="https://gc.kis.scr.kaspersky-labs.com/1B74BD89-2A22-4B93-B451-1C9E1052A0EC/main.js" charset="UTF-8"></script></head>

    <body>
        <nav class="light-blue darken-4" role="navigation">
            <div class="nav-wrapper container">
                <!-- MENU SLIDE OUT STRUCTURE-->
                <ul id="slide-out" class="side-nav">
                    <br>
                    <li>
                        <div class="logo">
                            <img class="background center-block responsive" src="imgs/logo.png">
                        </div>
                    </li>
                    <br>
                    <li><a class="waves-effect" href="index.html">Página Inicial</a></li>
                    <li><a class="waves-effect" href="#!">Modelo de Provas/Trabalhos</a></li>
                    <li><a class="waves-effect" href="#!">Fórum</a></li>
                    <li><a class="waves-effect" href="#!">Download/Upload Aplicativos</a></li>
                    <li><a class="waves-effect" href="#!">Correção Provas e Trabalhos</a></li>
                    <li><a class="waves-effect" href="Mural/projeto/index.html">Mural</a></li>
                    <li><a class="waves-effect" href="#!">Chat</a></li>
                    <li><a class="waves-effect" href="repositorio.html">Repositório de Fotos</a></li>
                    <li><a class="waves-effect" href="#!">Banco de Questões</a></li>
                    <li><a class="waves-effect" href="#!">Calendário</a></li>
                    <!--<li><div class="divider"></div></li>-->
                    <!--<li><a class="subheader">Subheader</a></li>-->
                </ul>
                <ul class="left hide-on-med-and-down">
                    <li>
                        <button data-activates="slide-out" class="waves-effect waves-light btn-flat button-collapse white-text light-blue darken-4">Menu</button>
                    </li>
                </ul>
                <ul class="right hide-on-med-and-down">
                    <li><button class="waves-effect waves-light btn-flat white-text light-blue darken-4">Entrar</button></li>
                </ul>
            </div>
        </nav>
        <br>

        <div>
            <div class="row" >

                <div class="col s6"><video id="video" width="640" height="480" autoplay></video></div>
                <div class="col s6"><canvas id="canvas" width="630" height="470"></canvas></div>

            </div>

            <div align ="center"><button onclick="myFunction()" a class="waves-effect waves-light btn light-blue darken-4" id="snap">Tirar Foto
                    <i class="material-icons right">videocam</i>
                </button>

                <i class="material-icons"></i>
                <button class="btn waves-effect waves-light light-blue darken-4"  type="submit" name="action" id="save" >Salvar Foto
                    <i class="material-icons right">send</i>
                </button></div>
            <br>


 <!--função da webcam-->

            <script>

                window.addEventListener("DOMContentLoaded", function () {
                    var canvas = document.getElementById("canvas"),
                            context = canvas.getContext("2d"),
                            video = document.getElementById("video"),
                            videoObj = {"video": true},
                    errBack = function (error) {
                        console.log("Video capture error: ", error.code);
                    };
                    // chamada dos navegadores
                    if (navigator.webkitGetUserMedia) {
                        navigator.webkitGetUserMedia(videoObj, function (stream) {
                            video.src = stream;
                            video.play();
                        }, errBack);
                    } else if (navigator.getUserMedia) {
                        navigator.getUserMedia(videoObj, function (stream) {
                            video.src = window.webkitURL.createObjectURL(stream);
                            video.play();
                        }, errBack);
                    } else if (navigator.mozGetUserMedia) {
                        navigator.mozGetUserMedia(videoObj, function (stream) {
                            video.src = window.URL.createObjectURL(stream);
                            video.play();
                        }, errBack);
                    }
                }, false);
                
                // eventos da captura de fotos
                document.getElementById("snap").addEventListener("click", function () {
                    canvas.getContext("2d").drawImage(video, 0, 0, 640, 480);
                    //alert(canvas.toDataURL());
                });
                document.getElementById("save").addEventListener("click", function () {
                    $.post('fotossalvar.php', {img: canvas.toDataURL()}, function (data) {
                    }, 'json');
                });


            </script> 



 <!--Painel de descrição-->
            <div>
                <ul class="collection">
                    <li class="collection-item avatar">
                        <img src="logo.png" alt="Repositório de Fotos" class="circle">
                        <span class="title">Repositório de fotos</span>
                        <p>Carômetro<br>
                            Acesso das fotos dos usuários cadastrados, com suas informações como matriculas.
                        </p>
                        <a href="repositorio.html" class="secondary-content"><i class="material-icons">grade</i></a>
                    </li>

                    </li>
                    <li class="collection-item avatar">
                        <i class="material-icons circle blue">videocam</i>
                        <span class="title">Repositório de Fotos</span>
                        <p>WebCam<br>
                            Aqui você pode acessar a câmera e tirar fotos direto do site.
                        </p>
                        <a href="WebCam.html" class="secondary-content"><i class="material-icons">done</i></a>
                    </li>
                    <li class="collection-item avatar">
                        <i class="material-icons circle blue">view_carousel</i>
                        <span class="title">Repositório de Fotos</span>
                        <p>Albúns de fotografias <br>
                            Aqui você pode visualizar suas fotos tiradas, além de vizualizar as fotos dos usuários de Informática 2A que já estão cadastrados.
                        </p>
                        <a href="Albuns.html" class="secondary-content"><i class="material-icons">grade</i></a>

                    </li>

                </ul>

            </div>


            <footer class="page-footer blue">
                <div class="container">
                    <div class="row">
                        <div class="col l6 s12">
                            <h5 class="white-text">Desenvolvedores</h5>
                            <p class="grey-text text-lighten-4">
                                Somos a turma de Informática 2A do ano de 2016 do CEFET-MG (Centro Federal de Educação Tecnológica de Minas Gerais) desenvolvendo o trabalho final multidisciplinar de Linguagem de Programação 1 e Aplicações para WEB.
                                <br><a class="white-text" href="colaboradores.html">Clique aqui</a> para saber mais
                            </p>
                        </div>
                        <div class="col l3 s12">
                            <h5 class="white-text">Sobre a Instituição</h5>
                            <p class="grey-text text-lighten-4">
                                Centro Federal de Educação Tecnológica de Minas Gerais
                                <br>Av. Amazonas 5253 - Nova Suiça - Belo Horizonte - MG - Brasil
                                <br>Telefone: +55 (31) 3319-7000 - Fax: +55 (31) 3319-7001
                            </p>
                        </div>
                        <div class="col l3 s12">
                            <h5 class="white-text">Recursos</h5>
                            <ul>
                                <li><a class="white-text" href="https://github.com/cefet-inf-2015/portal-educacao/" target="_blank">Github</a></li>
                                <li><a class="white-text" href="http://cefetmg.br/" target="_blank">CEFET-MG</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="footer-copyright">
                    <div class="container">
                        Made by <a class="blue-text text-lighten-3" href="http://materializecss.com">Materialize</a>
                    </div>
                </div>
            </footer>


            <!--  Scripts-->
            <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
            <script src="../../template/js/materialize.js"></script>
            <script src="../../template/js/init.js"></script>   
    </body>
</html>